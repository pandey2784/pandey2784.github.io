"use strict";(self.webpackChunkmy_store=self.webpackChunkmy_store||[]).push([[866],{9866:(R,p,d)=>{d.r(p),d.d(p,{ProductModule:()=>O});var c=d(6895),u=d(7915),m=d(4466),t=d(8256),g=d(2353);const f=function(e){return["/products",e,"reviews"]},_=function(e){return["/products",e,"specifications"]};function v(e,i){if(1&e&&(t.TgZ(0,"div")(1,"h3"),t._uU(2),t.qZA(),t.TgZ(3,"button",5),t._uU(4,"Reviews"),t.qZA(),t.TgZ(5,"button",5),t._uU(6,"Specifications"),t.qZA()()),2&e){const n=i.ngIf;t.xp6(2),t.Oqu(n.name),t.xp6(1),t.Q6J("routerLink",t.VKq(3,f,n.id)),t.xp6(2),t.Q6J("routerLink",t.VKq(5,_,n.id))}}let h=(()=>{class e{constructor(n,o,r){this.route=n,this.ps=o,this.router=r}ngOnInit(){this.route.paramMap.subscribe(n=>{this.id=Number(n.get("id")),console.log(this.id),isNaN(this.id)||(this.product$=this.ps.getProductById(this.id))})}goBack(){setTimeout(()=>{this.router.navigate(["/products"])},2e3)}prevProduct(){this.id-=1,this.router.navigate(["/products",this.id])}nextProduct(){this.id+=1,this.router.navigate(["/products",this.id])}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.gz),t.Y36(g.M),t.Y36(u.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-detail"]],decls:12,vars:3,consts:[[1,"row"],[1,"col"],[1,"btn","btn-primary",3,"click"],[1,"btn",3,"click"],[4,"ngIf"],[1,"btn","btn-dark",3,"routerLink"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return o.goBack()}),t._uU(3,"Back"),t.qZA()(),t.TgZ(4,"div",1)(5,"button",3),t.NdJ("click",function(){return o.prevProduct()}),t._uU(6,"< Prev"),t.qZA(),t.TgZ(7,"button",3),t.NdJ("click",function(){return o.nextProduct()}),t._uU(8,"Next >"),t.qZA()()(),t.YNc(9,v,7,7,"div",4),t.ALo(10,"async"),t._UZ(11,"router-outlet")),2&n&&(t.xp6(9),t.Q6J("ngIf",t.lcZ(10,1,o.product$)))},dependencies:[c.O5,u.lC,u.rH,c.Ov]}),e})(),C=(()=>{class e{constructor(n){this.router=n}canActivate(n,o){const r=Number(n.paramMap.get("id"));return!isNaN(r)||(this.router.navigate(["/products"]),!1)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(u.F0))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Z=d(8505),T=d(262),w=d(9646);let y=(()=>{class e{constructor(){this.rating=0,this.ratingClick=new t.vpe,this.starWidth=0}ngOnChanges(){this.starWidth=16*this.rating}ngOnInit(){}ratingClicked(){this.ratingClick.emit(this.rating)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-star"]],inputs:{rating:"rating"},outputs:{ratingClick:"ratingClick"},features:[t.TTD],decls:7,vars:2,consts:[[1,"crop",3,"click"],[2,"width","80px"],[1,"bi","bi-star-fill"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return o.ratingClicked()}),t.TgZ(1,"div",1),t._UZ(2,"i",2)(3,"i",2)(4,"i",2)(5,"i",2)(6,"i",2),t.qZA()()),2&n&&t.Udp("width",o.starWidth,"px")},styles:[".crop[_ngcontent-%COMP%]{overflow:hidden;cursor:pointer}"]}),e})();var s=d(433);let x=(()=>{class e{transform(n,o=""){return n.replace("-",o)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Yjl({name:"convertToSpaces",type:e,pure:!0}),e})();function M(e,i){if(1&e&&(t.TgZ(0,"div",16),t._UZ(1,"img",17),t.qZA()),2&e){const n=t.oxw().$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("src",n.image,t.LSH)("alt",n.name)("ngStyle",o.imgStyles)}}const A=function(e){return["/products",e]};function P(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",8)(1,"div",9),t.YNc(2,M,2,3,"div",10),t.TgZ(3,"div",11)(4,"h5",12),t._uU(5),t.ALo(6,"uppercase"),t.qZA(),t.TgZ(7,"p",13),t._uU(8),t.ALo(9,"slice"),t.qZA(),t.TgZ(10,"strong"),t._uU(11),t.ALo(12,"currency"),t.qZA(),t.TgZ(13,"p"),t._uU(14),t.ALo(15,"convertToSpaces"),t.qZA(),t.TgZ(16,"p")(17,"i"),t._uU(18),t.ALo(19,"date"),t.qZA()(),t.TgZ(20,"app-star",14),t.NdJ("ratingClick",function(r){t.CHM(n);const a=t.oxw(2);return t.KtG(a.onRatingClicked(r))}),t.qZA(),t.TgZ(21,"div")(22,"a",15),t.NdJ("click",function(r){const l=t.CHM(n).$implicit,Q=t.oxw(2);return t.KtG(Q.addToCart(r,l))}),t._uU(23,"Add to Cart"),t.qZA()()()()()}if(2&e){const n=i.$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("ngIf",o.showImages),t.xp6(2),t.Udp("cursor","pointer"),t.Q6J("routerLink",t.VKq(28,A,n.id)),t.xp6(1),t.hij(" ",t.lcZ(6,11,n.name)," "),t.xp6(2),t.Q6J("title",n.description),t.xp6(1),t.Oqu(t.Dn7(9,13,n.description,0,50)),t.xp6(3),t.Oqu(t.gM2(12,17,n.price,"INR","symbol","1.0-2")),t.xp6(3),t.Oqu(t.xi3(15,22,n.code,"/")),t.xp6(4),t.Oqu(t.xi3(19,25,n.publishedDate,"dd-MM-yyyy")),t.xp6(2),t.Q6J("rating",n.rating)}}function b(e,i){if(1&e&&(t.ynx(0),t.TgZ(1,"div",6),t.YNc(2,P,24,30,"div",7),t.ALo(3,"slice"),t.qZA(),t.BQk()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngForOf",t.Dn7(3,1,n.filteredProducts,0,6))}}function J(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",18),t.O4$(),t.TgZ(2,"svg",19)(3,"path",20),t._UZ(4,"animateTransform",21),t.qZA()()()())}function q(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",8)(2,"div",22),t._uU(3),t.qZA()()()),2&e){const n=t.oxw();t.xp6(3),t.hij(" ",n.errorMessage," ")}}let k=(()=>{class e{constructor(n){this.ps=n,this.imgStyles={"width.px":200,"height.px":200},this.products=[],this.filteredProducts=this.products,this._filterBy="",this.showImages=!0,this.errorMessage=null,this.loading=!1}get filterBy(){return this._filterBy}set filterBy(n){this._filterBy=n,this.filterProducts(this._filterBy)}ngOnInit(){this.loading=!0,this.products$=this.ps.getProducts().pipe((0,Z.b)(n=>{this.loading=!1,this.products=n,this.filteredProducts=n,this.errorMessage=null}),(0,T.K)(n=>(this.loading=!1,this.errorMessage=n,(0,w.of)([]))))}addToCart(n,o){this.ps.increment()}filterProducts(n){this.filteredProducts=this.products.filter(o=>o.name.toLowerCase().includes(n.toLowerCase()))}onRatingClicked(n){alert(`Clicked rating is ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.M))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-list"]],decls:11,vars:7,consts:[[1,"row"],[1,"col","mb-3"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],[4,"ngIf"],["class","row",4,"ngIf"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","g-3"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","bg-purple"],["class","d-flex justify-content-center",4,"ngIf"],[1,"card-body"],[1,"card-title",3,"routerLink"],[1,"card-text",3,"title"],[3,"rating","ratingClick"],[1,"btn","btn-primary",3,"click"],[1,"d-flex","justify-content-center"],[1,"card-img-top",3,"src","alt","ngStyle"],[1,"col","text-center"],["version","1.1","id","L9","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 100 100","enable-background","new 0 0 0 0",0,"xml","space","preserve"],["fill","#e74c3c","d","M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"],["attributeName","transform","attributeType","XML","type","rotate","dur","1s","from","0 50 50","to","360 50 50","repeatCount","indefinite"],["role","alert",1,"alert","alert-danger"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"input",2),t.NdJ("ngModelChange",function(a){return o.filterBy=a}),t.qZA()()(),t.TgZ(3,"div",0)(4,"div",1)(5,"input",3),t.NdJ("ngModelChange",function(a){return o.showImages=a}),t.qZA(),t._uU(6," Show Images "),t.qZA()(),t.YNc(7,b,4,5,"ng-container",4),t.ALo(8,"async"),t.YNc(9,J,5,0,"div",5),t.YNc(10,q,4,1,"div",5)),2&n&&(t.xp6(2),t.Q6J("ngModel",o.filterBy),t.xp6(3),t.Q6J("ngModel",o.showImages),t.xp6(2),t.Q6J("ngIf",t.lcZ(8,5,o.products$)),t.xp6(2),t.Q6J("ngIf",o.loading),t.xp6(1),t.Q6J("ngIf",o.errorMessage))},dependencies:[c.sg,c.O5,c.PC,u.rH,y,s.Fj,s.Wl,s.JJ,s.On,c.Ov,c.gd,c.OU,c.H9,c.uU,x],styles:["svg[_ngcontent-%COMP%]{width:100px;height:100px;margin:20px;display:inline-block}"]}),e})();class F{}function L(e,i){1&e&&(t.TgZ(0,"div",16),t._uU(1," Author field is required. "),t.qZA())}function N(e,i){1&e&&(t.TgZ(0,"div",16),t._uU(1," Email field is required. "),t.qZA())}function U(e,i){if(1&e&&(t.TgZ(0,"option",17),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.Q6J("value",n),t.xp6(1),t.Oqu(n)}}const S=[{path:"",component:k,title:"Products"},{path:":id",component:h,title:"Product Detail",canActivate:[C],children:[{path:"reviews",component:(()=>{class e{constructor(){this.reviewForm=new F,this.ratings=[1,2,3,4,5],this.reviewForm.rating=4}ngOnInit(){}submitReview(){console.log(this.reviewForm)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-review"]],decls:27,vars:11,consts:[[3,"ngSubmit"],["rf","ngForm"],[1,"mb-3"],["for","author",1,"form-label"],["type","text","id","author","name","author","required","",1,"form-control",3,"ngModel","ngModelChange"],["author","ngModel"],["class","alert alert-danger",4,"ngIf"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["for","rating",1,"form-label"],["id","rating","name","rating",1,"form-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","description",1,"form-label"],["id","description","rows","3","name","description",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-danger"],[3,"value"]],template:function(n,o){if(1&n){const r=t.EpF();t.TgZ(0,"form",0,1),t.NdJ("ngSubmit",function(){t.CHM(r);const l=t.MAs(1);return t.KtG(l.valid&&o.submitReview())}),t.TgZ(2,"div",2)(3,"label",3),t._uU(4,"Author"),t.qZA(),t.TgZ(5,"input",4,5),t.NdJ("ngModelChange",function(l){return o.reviewForm.author=l}),t.qZA(),t.YNc(7,L,2,0,"div",6),t.qZA(),t.TgZ(8,"div",2)(9,"label",7),t._uU(10,"Email"),t.qZA(),t.TgZ(11,"input",8,9),t.NdJ("ngModelChange",function(l){return o.reviewForm.email=l}),t.qZA(),t.YNc(13,N,2,0,"div",6),t.qZA(),t.TgZ(14,"div",2)(15,"label",10),t._uU(16,"Rating"),t.qZA(),t.TgZ(17,"select",11),t.NdJ("ngModelChange",function(l){return o.reviewForm.rating=l}),t.YNc(18,U,2,2,"option",12),t.qZA()(),t.TgZ(19,"div",2)(20,"label",13),t._uU(21,"Description"),t.qZA(),t.TgZ(22,"textarea",14),t.NdJ("ngModelChange",function(l){return o.reviewForm.description=l}),t.qZA()(),t.TgZ(23,"button",15),t._uU(24,"Submit"),t.qZA()(),t._uU(25),t.ALo(26,"json")}if(2&n){const r=t.MAs(1),a=t.MAs(6),l=t.MAs(12);t.xp6(5),t.Q6J("ngModel",o.reviewForm.author),t.xp6(2),t.Q6J("ngIf",a.dirty&&a.invalid),t.xp6(4),t.Q6J("ngModel",o.reviewForm.email),t.xp6(2),t.Q6J("ngIf",l.dirty&&l.invalid),t.xp6(4),t.Q6J("ngModel",o.reviewForm.rating),t.xp6(1),t.Q6J("ngForOf",o.ratings),t.xp6(4),t.Q6J("ngModel",o.reviewForm.description),t.xp6(1),t.Q6J("disabled",r.invalid),t.xp6(2),t.hij("\n",t.lcZ(26,9,o.reviewForm),"\n")}},dependencies:[c.sg,c.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.Q7,s.On,s.F,c.Ts]}),e})()},{path:"specifications",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-specifications"]],decls:2,vars:0,template:function(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1,"specifications works!"),t.qZA())}}),e})()}]}];let I=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,u.Bz.forChild(S)]}),e})(),O=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,u.Bz,m.m,I]}),e})()}}]);